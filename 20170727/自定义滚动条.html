<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		
		<style type="text/css">
		*{
			margin: 0;
			padding: 0;	
		}
			.box{
				height: 400px;
				width: 300px;
				border: 1px solid red;
				position: relative;
				margin: 50px auto;
			}
			.left{
				width: calc(100% - 20px);
				position: absolute;
			}
			.right{
				background: #CCCCCC;
				width: 20px;
				height: 100%;
				position: absolute;
				top: 0;
				right: 0;
				z-index: 1000;
			}
			.bar{
				width: 100%;
				height: 50px;
				background: red;
				position: relative;
				top: 0;
			}
			.content{
				position: relative;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<div class="left">
				<div class="content">
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
				<p>adasda发撒的发斯蒂芬速度发撒的发斯蒂芬阿萨德法法师打发斯蒂芬速度顺丰速递都是发撒的发是</p>
			</div>
			</div>
			
			<div class="right">
				<div class="bar"></div>
			</div>
		</div>
		<script type="text/javascript">
			function $(ele) { //选择元素  
   return document.querySelector(ele);  
} 
			var box=$(".box")
			var bar=$(".bar")
			var content=$(".content");
			bar.style.height=box.offsetHeight / content.offsetHeight *box.offsetHeight + "px"
			bar.onmousedown=function(ev){
				var oEvent=ev || event;
				var y=oEvent.clientY- bar.offsetTop;/*console.log(box.offsetTop)*/
				var that=this;
				document.onmousemove=function(ev){
					var oEvent=ev || event;
					var move=oEvent.clientY -y;
					that.style.top=move +"px"
					content.style.top=(content.offsetHeight - box.offsetHeight) / (box.offsetHeight - bar.offsetHeight) * move + "px";
				}
				document.onmouseup=function(ev){
					document.onmousemove=null;
				}
			}
		</script>
	</body>
</html>
